---
layout: layouts/with-menu.njk
---

{% set navPages = collections.all | test %}

{%- for categorie in navPages %} {# get all categories #}
    <div id="{{ categorie.key | slug }}" class="categorie">
        <header>{{ categorie.key }}</header> {#ex: TECHNIQUES DE CORDE#}
        {%- for subject in categorie.children %}  {# get all subjects from categorie #}
            <div id="{{ subject.key | slug }}" class="subject">
                <header>{{subject.key}}</header> {#ex: RAPPEL#}
                {%- if subject.children.length -%} {# if articles exists in subject#}
                    {% set x = subject %}
                    {% include "components/show-content.njk" %} {# show subject #}
                    {%- for article in subject.children -%} {# get all articles from subject #}
                        <article id="{{ article.key | slug }}" class="article">  
                            <header>{{article.key}}</header> {#ex: MISE EN PLACE#}  
                            {%- if article.children.length -%} {# if section exists #}
                                {%- for section in article.children -%} {# get all sctions from article #}
                                    <section id="{{ section.key | slug }}" class="section">
                                        <header>{{section.key}}</header> {#ex: MACHARD BAS#} 
                                        {% set x = section %}
                                        {% include "components/show-content.njk" %} {# show section #}
                                    </section>
                                {%- endfor -%} {#end sections#}
                            {% else %}
                                {% set x = article %}
                                {% include "components/show-content.njk" %} {# show article #}
                            {% endif %}
                        </article>
                    {%- endfor -%} {#end articles#}
                {% else %}
                    {% set x = subject %}
                    <article class="article">  
                        {% include "components/show-content.njk" %} {# show subject #}
                    </article> 
                {% endif %}
            </div>
        {%- endfor %} {#end subjects#}
    </div>
{%- endfor %} {#end categories#}

